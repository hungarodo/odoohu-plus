<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Form view -->
    <record id="wizard_view_form"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.base.wizard.view.form</field>
        <field name="model">l10n.hu.wizard</field>
        <field name="priority">16</field>
        <field name="arch"
               type="xml"
        >
            <form>
                <group name="main">
                    <group name="base">
                        <!-- TECHNICAL -->
                        <field name="active_model"
                               force_save="1"
                               invisible="1"
                               options="{'no_open': True,}"
                               readonly="1"
                        />
                        <field name="active_model_id"
                               force_save="1"
                               invisible="1"
                        />
                        <field name="active_model_name"
                               invisible="1"
                        />
                        <field name="company"
                               force_save="1"
                               invisible="1"
                        />
                        <!-- ACTION TYPES -->
                        <field name="action_type_visible"
                               invisible="1"
                        />
                        <field name="action_type"
                               attrs="{
                                   'invisible': [('action_type_visible', '=', False)],
                               }"
                               required="1"
                        />
                        <!-- API -->
                        <field name="api_action_editable"
                               invisible="1"
                        />
                        <field name="api_action"
                               attrs="{
                                   'invisible': [('action_type', '!=', 'api')],
                                   'readonly': [('api_action_editable', '=', False)],
                                   'required': [('action_type', '=', 'api')],
                               }"
                               force_save="1"
                               string="Action"
                        />
                        <field name="api_license_code"
                               attrs="{
                                   'invisible': [('action_type', '!=', 'api')],
                                   'readonly': [('api_action', 'in', ['check_registration', 'delete_registration', 'download_objects'])],
                                   'required': [('action_type', '=', 'api')],
                               }"
                               string="License Code"
                        />
                        <field name="api_key"
                               attrs="{
                                   'invisible': [('action_type', '!=', 'api')],
                                   'readonly': [('api_action', 'in', ['check_registration', 'delete_registration', 'download_objects'])],
                                   'required': [('action_type', '=', 'api')],
                               }"
                               string="API Key"
                        />
                        <field name="api_url"
                               attrs="{
                                   'invisible': [('action_type', '!=', 'api')],
                                   'readonly': [('api_action', 'in', ['download_objects'])],
                                   'required': [('action_type', '=', 'api')],
                               }"
                               string="API URL"
                        />
                        <!-- CURRENCY EXCHANGE -->
                        <field name="exchange_action_editable"
                               invisible="1"
                        />
                        <field name="exchange_visible"
                               invisible="1"
                        />
                        <field name="exchange_action"
                               attrs="{
                                   'invisible': [('action_type', '!=', 'currency_exchange')],
                                   'readonly': [('exchange_action_editable', '=', False)],
                                   'required': [('action_type', '=', 'currency_exchange')],
                               }"
                               force_save="1"
                               string="Action"
                        />
                        <div name="exchange_currency_from"
                             attrs="{'invisible': [('action_type', '!=', 'currency_exchange')]}"
                        >
                            <field name="exchange_currency_from"
                                   options="{'no_create': True, 'no_open': True}"
                                   placeholder="Currency From"
                            />
                        </div>
                        <div name="exchange_amount_from"
                             attrs="{'invisible': [('action_type', '!=', 'currency_exchange')]}"
                        >
                            <field name="exchange_amount_from"
                                   placeholder="Amount From"
                            />
                        </div>
                        <div name="exchange_currency_to"
                             attrs="{'invisible': [('action_type', '!=', 'currency_exchange')]}"
                        >
                            <field name="exchange_currency_to"
                                   options="{'no_create': True, 'no_open': True}"
                                   placeholder="Currency To"
                            />
                        </div>
                        <div name="exchange_amount_to"
                             attrs="{'invisible': [('action_type', '!=', 'currency_exchange')]}"
                        >
                            <field name="exchange_amount_to"
                                   placeholder="Amount To"
                            />
                        </div>
                        <field name="exchange_rate"
                               attrs="{'invisible': [('action_type', '!=', 'currency_exchange')]}"
                               class="oe_inline"
                               string="Exchange Rate"
                        />
                        <!-- PARTNER -->
                        <field name="partner_action_editable"
                               invisible="1"
                        />
                        <field name="partner_action"
                               attrs="{
                                   'invisible': [('action_type', '!=', 'partner')],
                                   'readonly': [('partner_action_editable', '=', False)],
                                   'required': [('action_type', '=', 'partner')],
                               }"
                               force_save="1"
                               string="Action"
                        />
                    </group>
                    <group name="cards">
                        <!-- API -->
                        <div name="api_info"
                             attrs="{'invisible': [('action_type', '!=', 'api')]}"
                             class="card text-white bg-info"
                             colspan="2"
                        >
                            <div class="card-header">
                                <i class="fa fa-info-circle mr-1"/>
                                Information
                            </div>
                            <div class="card-body">
                                <p class="card-text"
                                   attrs="{'invisible': [('api_action', '!=', 'check_registration')]}"
                                >
                                    Check API registration
                                </p>
                                <p class="card-text"
                                   attrs="{'invisible': [('api_action', '!=', 'create_registration')]}"
                                >
                                    Create API registration
                                </p>
                                <p class="card-text"
                                   attrs="{'invisible': [('api_action', '!=', 'delete_registration')]}"
                                >
                                    Delete API registration
                                </p>
                                <p class="card-text"
                                   attrs="{'invisible': ['|', ('api_action', '!=', 'download_objects'), ('api_details', 'in', [False, ''])]}"
                                >
                                    <field name="api_details"/>
                                </p>
                                <p class="card-text"
                                   attrs="{'invisible': [('api_action', '!=', 'download_objects')]}"
                                >
                                    Download API objects
                                </p>
                            </div>
                        </div>
                        <!-- PARTNER -->
                        <div name="partner_info"
                             attrs="{'invisible': [('action_type', '!=', 'partner')]}"
                             class="card text-white bg-info"
                             colspan="2"
                        >
                            <div class="card-header">
                                <i class="fa fa-info-circle mr-1"/>
                                Information
                            </div>
                            <div class="card-body">
                                <p class="card-text"
                                   attrs="{'invisible': [
                                       '|',
                                       ('action_type', '!=', 'partner'),
                                       ('partner_action', '!=', False)
                                   ]}"
                                >
                                    Manage partners
                                </p>
                                <p class="card-text"
                                   attrs="{'invisible': [
                                       '|',
                                       ('action_type', '!=', 'partner'),
                                       ('partner_action', '!=', 'list')
                                   ]}"
                                >
                                    List partners
                                </p>
                            </div>
                        </div>
                    </group>
                </group>
                <notebook>
                    <page name="partner"
                          attrs="{
                              'invisible': [('partner_visible', '=', False)],
                          }"
                          string="Partner"
                    >
                        <group>
                            <field name="partner_visible"
                                   invisible="1"
                            />
                            <field name="partner"
                                   colspan="2"
                                   nolabel="1"
                                   widget="many2many_tags"
                            />
                        </group>
                    </page>
                </notebook>
                <footer>
                    <button name="action_execute"
                            class="btn-primary"
                            default_focus="1"
                            string="Execute"
                            type="object"
                    />
                    <button special="cancel"
                            class="btn-default"
                            string="Cancel"
                    />
                </footer>
            </form>
        </field>
    </record>
</odoo>

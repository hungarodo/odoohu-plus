<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template name="l10n.hu.plus.report.invoice.document.inherit"
              id="report_invoice_document_inherit"
              inherit_id="account.report_invoice_document"
    >
        <!-- Document type -->
        <xpath expr="//h2[1]"
               position="replace"
        >
            <div name="l10n_hu_invoice_document_type_and_number"
                 class="row mt-1 mb-4 border-bottom"
            >
                <div name="l10n_hu_invoice_document_type"
                     t-attf-class="#{'col-auto col-6 mw-100' if report_type != 'html' else 'col'}"
                >
                    <h2 class="text-start">
                        <span t-if="o.state == 'draft' and o.l10n_hu_proforma_name">PROFORMA</span>
                        <span t-elif="o.move_type in['in_invoice', 'in_refund', 'out_invoice', 'out_refund'] and o.l10n_hu_document_type">
                            <span t-field="o.l10n_hu_document_type"/>
                        </span>
                        <span t-elif="o.move_type == 'out_invoice' and o.state == 'posted'">Invoice</span>
                        <span t-elif="o.move_type == 'out_invoice' and o.state == 'draft'">Draft Invoice</span>
                        <span t-elif="o.move_type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</span>
                        <span t-elif="o.move_type == 'out_refund' and o.state == 'posted'">Credit Note</span>
                        <span t-elif="o.move_type == 'out_refund' and o.state == 'draft'">Draft Credit Note</span>
                        <span t-elif="o.move_type == 'out_refund' and o.state == 'cancel'">Cancelled Credit Note</span>
                        <span t-elif="o.move_type == 'in_refund'">Vendor Credit Note</span>
                        <span t-elif="o.move_type == 'in_invoice'">Vendor Bill</span>
                        <span t-else=""/>
                    </h2>
                </div>
                <div name="l10n_hu_number"
                     t-attf-class="#{'col-auto col-6 mw-100' if report_type != 'html' else 'col'}"
                >
                    <h2 class="text-end">
                        <t t-if="o.state == 'draft' and o.l10n_hu_proforma_name">
                            <span t-field="o.l10n_hu_proforma_name"/>
                        </t>
                        <t t-else="">
                            <span t-field="o.name"/>
                        </t>
                    </h2>
                </div>
            </div>
        </xpath>
        <!-- Bordered table -->
        <xpath expr="//table[@name='invoice_line_table']"
               position="attributes"
        >
            <attribute name="class">table table-sm o_main_table table-bordered</attribute>
        </xpath>
        <!-- Period summary -->
        <xpath expr="//div[@name='comment']"
               position="before"
        >
            <div name="l10n_hu_period_summary"
                 class="mb-3"
                 t-if="o.l10n_hu_delivery_period_start and o.l10n_hu_delivery_period_end and o.l10n_hu_delivery_period_summary"
            >
                <span t-field="o.l10n_hu_delivery_period_summary"/>
            </div>
        </xpath>
        <!-- Proforma -->
        <xpath expr="//div[@name='comment']"
               position="before"
        >
            <div name="l10n_hu_proforma"
                 class="mb-3"
                 t-if="state != 'draft' and o.l10n_hu_proforma_name"
            >
                Proforma reference: <span t-field="o.l10n_hu_proforma_name"/>
            </div>
        </xpath>
    </template>
</odoo>

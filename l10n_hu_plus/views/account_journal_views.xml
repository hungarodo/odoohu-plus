<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Form view inherit -->
    <record id="view_account_journal_form_inherit"
            model="ir.ui.view"
    >
        <field name="name">l10n.hu.plus.view.account.journal.form.inherit</field>
        <field name="inherit_id"
               ref="account.view_account_journal_form"
        />
        <field name="model">account.journal</field>
        <field name="priority">24</field>
        <field name="arch"
               type="xml"
        >
            <!-- Add l10n_hu page and fields -->
            <xpath expr="//page[@name='advanced_settings']"
                   position="after"
            >
                <page name="l10n_hu_plus"
                      string="HU+"
                >
                    <group name="l10n_hu_plus_1">
                        <group name="l10n_hu_plus_1_1">
                            <field name="l10n_hu_plus_enabled"
                                   widget="boolean_toggle"
                            />
                            <field name="l10n_hu_document_type"
                                   options="{'no_create': True, 'no_open': True,}"
                                   string="Document Types"
                                   widget="many2many_tags"
                            />
                            <field name="l10n_hu_delivery_date_default"
                                   string="Default Delivery Date"
                            />
                            <field name="l10n_hu_proforma_sequence"
                                   domain="[('code', 'like', 'proforma'), ('company_id', '=', company_id)]"
                                   invisible="type != 'sale'"
                                   options="{'no_create': True}"
                                   string="Proforma Sequence"
                            />
                            <field name="l10n_hu_proforma_mail_template"
                                   invisible="type != 'sale'"
                                   options="{'no_create': True}"
                                   string="Proforma Mail Template"
                            />
                        </group>
                        <group name="l10n_hu_plus_1_2">
                            <field name="l10n_hu_banner_enabled"
                                   string="Banner"
                                   widget="boolean_toggle"
                            />
                            <field name="l10n_hu_priority"
                                   class="oe_inline"
                                   string="Priority"
                            />
                            <field name="l10n_hu_proforma_sequence_available"
                                   invisible="1"
                            />
                            <label name="l10n_hu_actions"
                                   for="action_l10n_hu_plus_documentation"
                                   string="Actions"
                            />
                            <div name="l10n_hu_actions"
                                 class="d-grid gap-2"
                            >
                                <button name="action_l10n_hu_plus_documentation"
                                        class="btn-link btn-sm text-start"
                                        icon="fa-info-circle"
                                        string="Documentation"
                                        type="object"
                                />
                                <button name="action_l10n_hu_set_proforma_sequence"
                                        class="btn-link btn-sm text-start"
                                        groups="l10n_hu_plus.user_group"
                                        icon="fa-bolt"
                                        invisible="type != 'sale' or l10n_hu_proforma_sequence_available"
                                        string="Set proforma sequence"
                                        type="object"
                                />
                            </div>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
</odoo>
